<head>

    <link rel="stylesheet" href="../components/material.css">
    <link rel="stylesheet" href="../components/gigi.css">
    <script src="../libs/cito.js"></script>
    <script src="../components/material.js"></script>
    <meta charset="utf8">
    <link rel="stylesheet" href="../icons/font.css">



    <script src="../components/gigi.js"></script>
    <script src="../components/slider.js"></script>
    <script src="../components/icon.js"></script>
    <script src="../components/input.js"></script>
    <script src="../components/list.js"></script>
    <script src="../components/form.js"></script>
    <script src="../components/menu.js"></script>
    <script src="../components/dropdownmenu.js"></script>
    <script src="../components/button.js"></script>
    <script src="../components/card.js"></script>
    <script src="../components/dialog.js"></script>
    <script src="../components/navmenu.js"></script>
    <script src="../components/tabs.js"></script>
    <script src="../components/layout.js"></script>
    <script src="../login-dialog.js"></script>
    <script src="../welcome-page.js"></script>
</head>

<body>

</body>
<script>
    var newcard = function(t, d) {
        var self = gigi_card({
            title: t,
            description: d,
            bottom: [
                gigi_button({
                    content: "AGIGI"
                }).node
            ],
            shadowheight: 3,
        }).node

        return self

    }
    var items = [
        newcard('hello', 'world'), newcard('hello', 'world')
    ];

    var formdata = {};

    var form = function() {
        return gigi_form({
            fields: {
                title: "название",
                description: 'описание'
            },
            data: formdata
        }).node;
    };

    var btn = gigi_button({
        content: 'добавить карточку',
        events: {
            click: function() {
                testElement.node.navmenu.hide()
                dialog.open();
            }
        },
        attrs: {
            style: {
                color: '#FFF;'
            }
        },
        ripple: true,
    });

    var card = gigi_card({
        title: 'Get started',
        bottom: btn.node,
        description: 'asfasf',
        shadowheight: 4
    });

    var okbutton = gigi_button({
        content: 'ok',
        events: {
            click: function() {
                list.push(newcard(formdata.title, formdata.description))
                formdata = {}
                update()
                dialog.close();
            }
        }
    })

    var dialog = gigi_dialog({
        title: 'новая карточка',
        content: form,
        actions: [okbutton.node],
        backdrop: true
    });

    var list = gigi_list({
        items: items,
        attrs: {
            style: {
                width: '600px;',
                'max-width': '90%;',
                margin: '20px auto;'
            }
        }
    })

    var testElement = gigi_layout({
        title: "Разделы",
        toolbar: [btn.node],
        navmenu: gigi_navmenu({
            title: 'default',
            content: [card.node]
        }),
        content: list.node
    })

    var root = {
        tag: 'div',
        attrs: {
            class: "fit flexible"
        },
        children: [testElement.node, dialog.node]
    };

    var update = function() {
        updateComponent({
            node: rt
        })
    }

    var rt = cito.vdom.append(document.body, root);
</script>
