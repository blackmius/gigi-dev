<body></body>
<script src="../libs/cito.js"></script>
<script src="../gigi/gigi.js"></script>
<script>
    var gi = Gi.gi;
    var Val = Gi.val;
    var vdom = Gi.vdom;

    function button(label, action) {
        return gi({
        is: "button",
        onclick: action
        },
            label);
    }

    function input(label, value, $changes) {
        return gi({
        $changes: $changes,
        is: "input", 
        placeholder: label, 
        value: value.get() || "", 
        oninput: (e) => {value.set(e.target.value); update()}
        });
    }
    
    function nameInput() {
        var upFirstChar = (s) => 
            s.length <= 1
                ? s.toUpperCase()
                : s[0].toUpperCase() + s.slice(1);
                
        var Fullname = (s) => s.split(" ").map(upFirstChar).join(" ");
        var NumsOnly = (s) => s.replace(/[^0-9]/g, "");
        
        var name = Val("", Fullname);
        var age = Val("", NumsOnly);
        // Val(value, type)
        var clear = () => {name.set(""); age.set(""); update()};
        return gi("div", 
            ()=> input("Enter name here", name),
            ()=> input("Your age", age),
            button("clear", clear),
            ()=> gi("", `Your name is: ${name.get()}`)
        );
    }
        
    var root = gi("", 
        nameInput(), 
        nameInput(), 
        nameInput())
    var rootEl = vdom.append(document.body, root);
    var update = () => vdom.update(rootEl, root);
</script>
